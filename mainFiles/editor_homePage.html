<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <link rel="stylesheet" href="../css/zui.css"/>
    <link rel="stylesheet" href="../css/editor.css"/>
    <title>编辑器--主页</title>
</head>
<body>

<!-- 新建模板 -->
<div class="modal fade myModal" id="modalNewEditor">
    <div class="modal-dialog">
        <div class="modal-content">
            <p class="modelTitle">新建模板</p>
            <div class="modalOption">
                <!--模板名称-->
                <p class="modalAct"><input type="text" placeholder="输入模板名称（可输入24个汉字）"/></p>
                <!--选择模板类型-->
                <div class="modalCon">
                    <p class="modalSelect modalAct"><span>选择模板类型</span><i class="icon icon-chevron-down"></i></p>
                    <div class="modalAlter">
                        <p class="modalTxt "><i class="icon"></i><span>选择模板类型</span></p>
                        <p class="modalTxt "><i class="icon"></i><span>模板类型1</span></p>
                        <p class="modalTxt"><i class="icon"></i><span>模板类型2</span></p>
                        <p class="modalTxt"><i class="icon"></i><span>+ 新建模板类型</span></p>
                    </div>
                </div>
                <!--选择界面风格-->
                <div class="modalCon">
                    <p class="modalSelect modalAct"><span>选择界面风格</span><i class="icon icon-chevron-down"></i></p>
                    <div class="modalAlter">
                        <p class="modalTxt "><i class="icon"></i><span>选择界面风格</span></p>
                        <p class="modalTxt "><i class="icon"></i><span>界面风格1</span></p>
                        <p class="modalTxt"><i class="icon"></i><span>界面风格2</span></p>
                    </div>
                </div>
                <!--选择栅格系统-->
                <div class="modalCon">
                    <p class="modalSelect modalAct"><span>选择栅格系统</span><i class="icon icon-chevron-down"></i></p>
                    <div class="modalAlter">
                        <p class="modalTxt modalGrid">
                            <i class="icon"></i><img src="../img/editor/gird_3.png" alt=""/><span>1:1:1</span>
                        </p>
                        <p class="modalTxt modalGrid">
                            <i class="icon"></i><img src="../img/editor/gird_4.png" alt=""/><span>1:1:1:1</span>
                        </p>
                    </div>
                </div>
                <!--选择页面布局-->
                <div class="modalCon">
                    <p class="modalSelect modalAct"><span>选择页面布局</span><i class="icon icon-chevron-down"></i></p>
                    <div class="modalAlter">
                        <p class="modalTxt modalLayout">
                            <img src="../img/editor/layout01.png" alt=""/><span>界面布局1</span>
                        </p>
                        <p class="modalTxt modalImg modalLayout">
                            <img src="../img/editor/layout02.png" alt=""/><span>界面布局2</span>
                        </p>
                        <p class="modalTxt modalImg modalLayout">
                            <img src="../img/editor/layout03.png" alt=""/><span>界面布局3</span>
                        </p>
                        <p class="modalTxt modalImg modalLayout">
                            <img src="../img/editor/layoutNew.png" alt=""/><span>自定义布局</span>
                        </p>
                    </div>
                </div>
                <!--选择界面配色-->
                <div class="modalCon">
                    <p class="modalSelect modalAct"><span>选择栅格系统</span><i class="icon icon-chevron-down"></i></p>
                    <div class="modalAlter">
                        <p class="modalTxt modalColor">
                            <i class="icon"></i><img src="../img/editor/color_red.png" alt=""/><span>红</span>
                        </p>
                        <p class="modalTxt modalColor">
                            <i class="icon"></i><img src="../img/editor/color_yellow.png" alt=""/><span>黄</span>
                        </p>
                        <p class="modalTxt modalColor">
                            <i class="icon"></i><img src="../img/editor/color_blue.png" alt=""/><span>蓝</span>
                        </p>
                    </div>
                </div>
            </div>
            <p class="modalBottom">
                <span class="modalCancel" data-dismiss="modal">取消</span>
                <span class="modalConfirm">确认</span>
            </p>
        </div>
    </div>
</div>
<!-- 导入模板 -->
<div class="modal fade myModal" id="modalLeadIn">
    <div class="modal-dialog">
        <div class="modal-content">
            <p class="modelTitle">新建模板</p>
            <div class="modalOption">
                <!--选择模板类型-->
                <div class="modalCon">
                    <p class="modalSelect modalAct"><span>选择模板类型</span><i class="icon icon-chevron-down"></i></p>
                    <div class="modalAlter">
                        <p class="modalTxt "><i class="icon"></i><span>选择模板类型</span></p>
                        <p class="modalTxt "><i class="icon"></i><span>模板类型1</span></p>
                        <p class="modalTxt"><i class="icon"></i><span>模板类型2</span></p>
                        <p class="modalTxt"><i class="icon"></i><span>+ 新建模板类型</span></p>
                    </div>
                </div>
                <!--选择界面风格-->
                <div class="modalCon">
                    <p class="modalSelect modalAct"><span>选择要导入的模板</span><i class="icon icon-chevron-down"></i></p>
                    <div class="modalAlter">
                        <p class="modalTxt "><i class="icon"></i><span>选择要导入的模板</span></p>
                        <p class="modalTxt "><i class="icon"></i><span>导入1</span></p>
                        <p class="modalTxt"><i class="icon"></i><span>导入2</span></p>
                        <p class="modalTxt"><i class="icon"></i><span>导入2</span></p>
                        <p class="modalTxt"><i class="icon"></i><span>导入2</span></p>
                        <p class="modalTxt"><i class="icon"></i><span>导入2</span></p>
                        <p class="modalTxt"><i class="icon"></i><span>导入2</span></p>
                        <p class="modalTxt"><i class="icon"></i><span>导入2</span></p>
                        <p class="modalTxt"><i class="icon"></i><span>导入2</span></p>
                        <p class="modalTxt"><i class="icon"></i><span>导入2</span></p>
                        <p class="modalTxt"><i class="icon"></i><span>导入2</span></p>
                        <p class="modalTxt"><i class="icon"></i><span>导入2</span></p>
                        <p class="modalTxt"><i class="icon"></i><span>导入2</span></p>
                        <p class="modalTxt"><i class="icon"></i><span>导入2</span></p>
                    </div>
                </div>
            </div>
            <p class="modalBottom">
                <span class="modalCancel" data-dismiss="modal">取消</span>
                <span class="modalConfirm">确认</span>
            </p>
        </div>
    </div>
</div>
<!--删除模板-->
<div class="modal fade myModal" id="modalDelete">
    <div class="modal-dialog modal-sm">
        <div class="modal-content">
            <div class="modalOption">
                <p class="modalContent">确定要删除当前编辑模板吗？</p>
            </div>
            <p class="modalBottom">
                <span class="modalCancel" data-dismiss="modal">取消</span>
                <span class="modalConfirm">确认</span>
            </p>
        </div>
    </div>
</div>
<!--删除组件-->
<div class="modal fade myModal" id="partDelete">
    <div class="modal-dialog modal-sm">
        <div class="modal-content">
            <div class="modalOption">
                <p class="modalContent">确定要删除当前控件吗？</p>
            </div>
            <p class="modalBottom">
                <span class="modalCancel" data-dismiss="modal">取消</span>
                <span class="modalConfirm">确认</span>
            </p>
        </div>
    </div>
</div>


<!--header-->
<div class="editorIndexHeader">
    <!--left-->
    <p class="editorAct">
        <span data-position="fit" data-toggle="modal" data-target="#modalNewEditor">
            <img src="../img/editor/addEditor.png" alt="" data-toggle="tooltip" data-placement="bottom" title="新建模板"/>
        </span>
        <span data-position="fit" data-toggle="modal" data-target="#modalLeadIn">
            <img src="../img/editor/leadingIn.png" alt="" data-toggle="tooltip" data-placement="bottom" title="导入模板"/>
        </span>
    </p>
    <!--模板编辑器-->
    <p class="editorTxt">模板编辑器</p>
    <!--right-->
    <p class="editorAct homePageAct">
        <span data-position="fit" data-toggle="modal" data-target="#modalDelete">
            <img src="../img/editor/deleteEditorIcon.png" alt="" data-toggle="tooltip" data-placement="bottom" title="删除模板"/>
        </span>
        <span>
            <img src="../img/editor/draft.png" alt="" data-toggle="tooltip" data-placement="bottom" title="存为草稿"/>
        </span>
        <span>
            <img src="../img/editor/keepIcon.png" alt="" data-toggle="tooltip" data-placement="bottom" title="存为草稿"/>
        </span>
        <span>
            <img src="../img/editor/previewIcon.png" alt="" data-toggle="tooltip" data-placement="bottom" title="存为草稿"/>
        </span>
    </p>
</div>
<!--section-->
<div class="indexAll">
    <div id="multiDroppableContainer">
        <!--left--组件-->
        <div class="partAll">
            <!--模块布局-->
            <div class="layoutImgAll">
                <p class="widget widgetP" data-toggle="collapse" data-target="#collapseExample">
                    模块布局<i class="icon-2x icon-sort-down"></i>
                </p>
                <div class="collapse in" id="collapseExample">
                    <div class="with-padding">
                        <p class="layoutImg"><img src="../img/editor/layout_3g1.png" alt=""/></p>
                        <p class="layoutImg"><img src="../img/editor/layout_3g2.png" alt=""/></p>
                        <p class="layoutImg"><img src="../img/editor/layout_3g3.png" alt=""/></p>
                    </div>
                </div>
            </div>
            <!--所有组件-->
            <div class="module">
                <!--组件库-->
                <div class="widget widgetDiv">
                    <p>组件库</p>
                    <select class="form-control partSelect">
                        <option value="">所有类型</option>
                        <option value="headlines">内容头条</option>
                        <option value="list">列表</option>
                    </select>
                </div>
                <!--组件分类-->
                <div class="partClassify">
                    <!--内容头条-->
                    <div class="partOption">
                        <p class="partOptionTitle">内容头条</p>
                        <div class="with-padding">
                            <p class="partImg"><img src="../img/editor/part01.png" alt=""/><span>内容1</span></p>
                            <p class="partImg"><img src="../img/editor/part02.png" alt=""/><span>内容2</span></p>
                            <p class="partImg"><img src="../img/editor/part03.png" alt=""/><span>内容3</span></p>
                        </div>
                    </div>
                    <!--列表-->
                    <div class="partOption">
                        <p class="partOptionTitle">列表</p>
                        <div class="with-padding">
                            <p class="partImg"><img src="../img/editor/part01.png" alt=""/><span>列表1</span></p>
                            <p class="partImg"><img src="../img/editor/part02.png" alt=""/><span>列表2</span></p>
                            <p class="partImg"><img src="../img/editor/part03.png" alt=""/><span>列表3</span></p>
                            <p class="partImg"><img src="../img/editor/part03.png" alt=""/><span>列表4</span></p>
                        </div>
                    </div>
                </div>
            </div>
            <!--查找-->
            <div class="widgetBottom">
                <p class="widgetFixed">
                    <input type="search" id="searchPart" placeholder="查找组件"/>
                    <label for="searchPart"><a href="#"><img src="../img/editor/searchPart.png" alt=""/></a></label>
                </p>
            </div>
        </div>

        <!--center--main-->
        <div class="main ">
            <!--header-->
            <div class="editorHeader"></div>
            <!--section-->
            <div class="editorBlock container">
                <div class="newSection dashboard dashboard-draggable" >
                    <div class="row haha list-group" id="sortableList">

                    </div>
                </div>
            </div>
            <!--footer-->
            <div class="editorFooter"></div>
            <!--撤销，全屏-->
            <div class="mainAct">
                <p class="editorAct">
                    <span>
                        <img src="../img/editor/prevIcon.png" alt="" data-toggle="tooltip" data-placement="top" title="上一步"/>
                    </span>
                    <span>
                        <img src="../img/editor/nextIcon.png" alt="" data-toggle="tooltip" data-placement="top" title="下一步"/>
                    </span>
                </p>
                <p class="editorAct homePageAct">
                    <span>
                        <img src="../img/editor/existFullScreen.png" class="fullScreen" data-toggle="tooltip" data-placement="top" title="全屏操作"/>
                    </span>
                </p>
            </div>
        </div>

        <!--right--属性-->
        <div class="property" id="htmlCode2">
            <!--控件属性-->
            <div class="propertyOptionAll">
                <p class="widget widgetP">控件属性</p>
                <div class="propertyShow">
                    <!--显示评论数-->
                    <div class="switch text-left propertyOption">
                        <input type="checkbox">
                        <label>显示评论数</label>
                    </div>
                    <!--选择二维码-->
                    <div class="propertyOption QRCodeProperty">
                        <b>选择二维码</b>
                        <input type="file" id="QRCodePropertyFile">
                        <span></span>
                        <label for="QRCodePropertyFile"><img src="../img/editor/QRCodeIcon.png" alt=""/></label>
                    </div>
                    <!--轮播展示数量-->
                    <div class="propertyOption">
                        <label class="propertyLabel">轮播展示数量</label>
                        <input class="propertyInputSm" type="number" placeholder="6">
                    </div>
                    <!--显示评论数-->
                    <div class="switch text-left propertyOption">
                        <input type="checkbox" checked>
                        <label>展示播放数量</label>
                    </div>
                    <!--相关内容推荐-->
                    <div class="propertyRelatedAll">
                        <div class="switch text-left propertyOption">
                            <input type="checkbox">
                            <label>相关内容推荐</label>
                        </div>
                        <div class="propertyOption propertyRelated">
                            <label class="propertyLabel">相关内容展示条数</label>
                            <input class="propertyInputSm" type="text" placeholder="6">
                        </div>
                    </div>
                    <!--视频展示行数-->
                    <div class="propertyOption">
                        <label class="propertyLabel">视频展示行数</label>
                        <input class="propertyInputSm" type="text" placeholder="6">
                    </div>
                    <!--栏目标题-->
                    <div class="propertyOption">
                        <label class="propertyLabel">栏目标题</label>
                        <input class="propertyInputBig" type="text" placeholder="暖新闻">
                    </div>
                    <!--列表标题-->
                    <div class="propertyOption">
                        <label class="propertyLabel">列表标题</label>
                        <input class="propertyInputBig" type="text" placeholder="暖新闻">
                    </div>
                    <!--列表标题-->
                    <div class="propertyOption">
                        <label class="propertyLabel">列表标题</label>
                        <select class="propertyInputBig">
                            <option value="">时间倒叙</option>
                            <option value="">时间正序</option>
                        </select>
                    </div>
                </div>
            </div>
            <!--控件数据链接-->
            <div class="propertyLink">
                <p class="widget widgetP">控件数据链接</p>
                <div class="propertyShow">
                    <!--通用组件-->
                    <div class="propertyRelatedAll">
                        <div class="switch text-left propertyOption">
                            <input type="checkbox">
                            <label>通用组件</label>
                        </div>
                        <!--列表标题-->
                        <div class="propertyOption propertyRelated">
                            <label class="propertyLabel">数据源</label>
                            <select class="propertyInputBig">
                                <option value="">时间倒叙对对对</option>
                                <option value="">时间正序</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>

            <!--删除-->
            <div class="widgetBottomDelete">
                <p class="widgetFixed" data-position="fit" data-toggle="modal" data-target="#partDelete">
                    <i class="icon icon-trash"></i><span>删除当前控件</span>
                </p>
            </div>
        </div>
    </div>
</div>




<script src="../js/jquery-1.11.3.js"></script>
<script src="../js/zui.min.js"></script>
<script>
//    function open(){
//        var url=document.location.href; //获得本窗口属性名
//        console.log(url);
//        newWin=window.open(url,'','fullscreen=1,scrollbars=0');
//        window.opener=null;//出掉关闭时候的提示窗口
//        window.open('','_self'); //ie7
//        window.close();
//    }


//    选择二维码
    $('.QRCodeProperty input').on("change",function(){
        if( $(this).val()!=="" ){
            $(this).siblings("span").html($(this).val());
            $(this).siblings("label").children().remove();
        }else{
            $(this).siblings("span").html("");
            $(this).siblings("label").html('<img src="../img/editor/QRCodeIcon.png" alt=""/>');
        }

    });


//    相关推荐
    $(".propertyRelatedAll input").change(function(){
        if( $(this).prop("checked") ){
            $(this).parent().next().slideDown();
        }else{
            $(this).parent().next().slideUp();
        }
    });


//    属性
    $(".propertyShow").children(":odd").addClass("propertyBackDark");

    //    悬浮--新建，导入
    $('[data-toggle="tooltip"]').tooltip();

    $(".main").css("width",(parseFloat( window.screen.availWidth )-230-230)+"px");
    $(".main").css("height",(parseFloat(window.screen.availHeight)-65-65)+"px");
    $(".partAll").css("height",(parseFloat(window.screen.availHeight)-65-65)+"px");
    $(".property").css("height",(parseFloat(window.screen.availHeight)-65-65)+"px");

////    全屏
//console.log(window.screen.availHeight );
//$(document).on('keydown', function (event) {
//    var e = event || window.event || arguments.callee.caller.arguments[0];
//    if(e && e.keyCode == 122){//捕捉F11键盘动作
//        e.preventDefault();  //阻止F11默认动作
//        var el = document.documentElement;
//        //定义不同浏览器的全屏API
//        var rfs = el.requestFullScreen || el.webkitRequestFullScreen || el.mozRequestFullScreen || el.msRequestFullScreen;
//        //执行全屏
//        if (typeof rfs != "undefined" && rfs) {
//            rfs.call(el);
//        } else if(typeof window.ActiveXObject != "undefined"){
//            var wscript = new ActiveXObject("WScript.Shell");
//            if (wscript!=null) {
//                wscript.SendKeys("{F11}");
//            }
//        }
//        //监听不同浏览器的全屏事件，并件执行相应的代码
//        document.addEventListener("webkitfullscreenchange", function() {
//            if (document.webkitIsFullScreen) {
//                alert(1);
//                $(".main").css("height",(parseFloat(window.screen.availHeight)-20)+"px");
//                $(".partAll").css("height",(parseFloat(window.screen.availHeight)-20)+"px");
//                $(".property").css("height",(parseFloat(window.screen.availHeight)-20)+"px");
//                console.log(window.screen.availHeight );
//            }else{
//                $(".main").css("height",(parseFloat(window.screen.availHeight)-65-65)+"px");
//                $(".partAll").css("height",(parseFloat(window.screen.availHeight)-65-65)+"px");
//                $(".property").css("height",(parseFloat(window.screen.availHeight)-65-65)+"px");
//            }
//        }, false);
//
//        document.addEventListener("fullscreenchange", function() {
//            if (document.fullscreen) {
//                    alert(33)
//            }else{
//                    alert(44)
//            }
//        }, false);
//
//        document.addEventListener("mozfullscreenchange", function() {
//            if (document.mozFullScreen) {
//                alert("moz");
//                $(".main").css("height",(parseFloat(window.screen.availHeight)-20)+"px");
//                $(".partAll").css("height",(parseFloat(window.screen.availHeight)-20)+"px");
//                $(".property").css("height",(parseFloat(window.screen.availHeight)-20)+"px");
//            }else{
//                $(".main").css("height",(parseFloat(window.screen.availHeight)-65-65)+"px");
//                $(".partAll").css("height",(parseFloat(window.screen.availHeight)-65-65)+"px");
//                $(".property").css("height",(parseFloat(window.screen.availHeight)-65-65)+"px");
//            }
//        }, false);
//        document.addEventListener("msfullscreenchange", function() {
//            if (document.msFullscreenElement) {
//                    alert(77);
//            }else{
//                    alert(88);
//            }
//        }, false)
//    }
//});


    //    对话框
    $(".modalCon .modalSelect").click(function(){
        if( $(this).children("i").hasClass("icon-chevron-down") ){
            $(this).children("i").removeClass("icon-chevron-down");
            $(this).children("i").addClass("icon-chevron-up");
            $(this).addClass("modalBorder");

        }else if( $(this).children("i").hasClass("icon-chevron-up") ){
            $(this).children("i").removeClass("icon-chevron-up");
            $(this).children("i").addClass("icon-chevron-down");
            $(this).removeClass("modalBorder");
        }
        $(this).parent().siblings().children(".modalAlter").hide();
        $(this).parent().siblings().children(".modalSelect").removeClass("modalBorder");
        $(this).parent().siblings().children(".modalSelect").children("i").removeClass("icon-chevron-up").addClass("icon-chevron-down");
        $(this).next().slideToggle();
    });
    $(".modalAlter .modalTxt").click(function(){
        $(this).siblings().removeClass("modalTxtSelect");
        $(this).siblings().children("i").removeClass("icon-check");
        $(this).children("i").addClass("icon-check");
        $(this).addClass("modalTxtSelect");
        $(this).parent().slideUp();
        $(this).parent().prev().removeClass("modalBorder");
        $(this).parent().prev().children("i").removeClass("icon-chevron-up").addClass("icon-chevron-down");
        $(this).parent().prev().children("span").html( $(this).children("span").html() );
    });


</script>
</body>
</html>