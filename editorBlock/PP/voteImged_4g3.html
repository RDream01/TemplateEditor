<div class="col-md-9 col-sm-9 appendStr voteImged_4g3" id="voteImged_4g3" data-blockSize="9">

<div class="style" "exist">
    <style>
        .voteImged_4g3_main{
            margin-left: 84px;
            width: 540px;
        }
        .voteImged_4g3_headImg{
            width:540px;
            position: relative;
        }
        .voteImged_4g3_Img{
            width:540px;
            height:350px;
        }
        .voteImged_4g3_shadow{
            position: absolute;
            left: 0;
            bottom: 0;
            background:rgba(0,0,0,0.60);
            width:540px;
            padding:10px;
        }
        .voteImged_4g3_title{
            font-size:16px;
            color:#ffffff;
            text-align:left;
            width: 100%;
            max-height: 50px;
            overflow: hidden;
            margin-bottom:8px;
        }
        .voteImged_4g3_Act{
            width:100%;
            text-align: right;;
        }
        .voteImged_4g3_collect{
            width: 22px;
            height: 20px;
        }
        .voteImged_4g3_share{
            width: 20px;
            height:22px;
            margin-left: 8px;
        }
        .voteImged_4g3_time{
            margin-top: 5px;
            font-size:12px;
            color:#ffffff;
        }
        .voteImged_4g3_joinNum{
            float: right;
            display: inline-block;
            font-size:12px;
            color:#ffffff;
            text-align:right;
        }
        .voteImged_4g3_newsCont{
            margin:25px 0;
            border-bottom:1px solid #f2f2f2;
            padding-bottom:25px;
        }
        .voteImged_4g3_newsCont p{
            font-size:14px;
            text-indent: 2em;
            margin-bottom:5px;
            letter-spacing: 0.7px;
        }
        .voteImged_4g3_voteTitle{
            margin-left: 36px;
            font-size:14px;
            text-align:left;
        }
        .voteImged_4g3_redTitle{
            font-size:16px;
        }
        .voteImged_4g3_voteList{

        }
        .voteImged_4g3_voteList ul{
            margin-top: 15px;
        }
        .voteImged_4g3_voteList li{
            float: left;
            margin-bottom: 26px;
        }

        .voteImged_4g3_voteList dd{
            float: left;
        }
        .voteImged_4g3_voteList dt{
            float: left;
            margin-left: 12px;
            text-align: center;
        }
        .voteImged_4g3_voteListImg{
            border:1px solid #f1f1f1;
            height: 60px;
            width:100px;
        }
        /*投票结果*/
        .voteImged_4g3_voteResult{
            overflow:hidden;
        }
        .voteImged_4g3_voteResult li{
            float:left;
            margin:10px 5px 20px 5px;
            font-size:14px;
            height:60px;
            line-height:60px;
        }
        .voteImged_4g3_voteResult li:first-child{
            max-width:270px;
        }
        .voteImged_4g3_voteResult li.voteImged_4g3_voteName{
            width:180px;
            height:40px;
            margin-top:20px;
            line-height: 20px;
            overflow: hidden;
        }
        .voteImged_4g3_voteMeter{
            width:180px;
            height:12px;
            background: #fff;
        }
        .voteImged_4g3_voteMeter span{
            display:inline-block;
            width:63px;
            height:12px;
            /*background:#000;*/
        }
        .voteImged_4g3_footDes{
            width: 540px;
            font-size:14px;
            text-align:center;
            margin-top: 32px;
            margin-bottom: 56px;
        }
    </style>
</div>

<div class="panel appendNot" data-id="3">
    <div class="panel-heading">
        <span class="title">投票结果--图片</span>
    </div>
    <div class="panel-body">
        <div class="grid4g3" "exist">
            <div class="voteImged_4g3_main">
                <!--图文信息-->
                <div class="voteImged_4g3_TxtImg"></div>
                <!--投票选项-->
                <div class="voteImged_4g3_voteList">
                    <!--name-->
                    <p class="titleColor voteImged_4g3_voteTitle">您认为&nbsp;&nbsp;
                        <span class="voteImged_4g3_redTitle mainColor"></span>
                    </p>
                    <!--option-->
                    <div class="voteImged_4g3_voteResultAll"></div>
                    <!--info-->
                    <p class="voteImged_4g3_footDes actColor"> 您已参与过该投票</p>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="resize-handle"><i class="icon icon-resize-h"></i></div>

<div class="script" "exist">
    <script>
        var flag = "v";
        if (flag == "v") {
            vData()
        } else {
            tData();
        }
        function vData() {
            //图文信息
            $(".voteImged_4g3_TxtImg").html("");
            var imgTxtStr='';
            imgTxtStr='<div class="voteImged_4g3_headImg">'+
            '<img class="voteImged_4g3_Img" src="../../img/PP/vote/vote.png">'+
            '<div class="voteImged_4g3_shadow">'+
            '<p class="voteImged_4g3_title">郑州到北京高铁提速至时速350公里 两小时能到吗？标题标题标题标题</p>'+
            '<p class="voteImged_4g3_Act">'+
            '<a href="#"><img src="../../img/PP/topic/collect.png" class="voteImged_4g3_collect"></a>'+
            '<a href="#"><img src="../../img/PP/topic/share.png" class="voteImged_4g3_share"></a>'+
            '</p>'+
            '<p class="voteImged_4g3_time clearFloat">投票时间：2017.3.1-2017.3.31' +
            '<span class="voteImged_4g3_joinNum">参与人数  109  人</span></p>'+
            '</div>'+
            '</div>'+
            '<div class="voteImged_4g3_newsCont">';
            for( var i=0;i<5;i++ ){
                imgTxtStr+='<p class="txtColor">郑州到北京高铁提速至时速350公里 两小时能到吗</p>';
            }

            imgTxtStr+='</div>';
            $(".voteImged_4g3_TxtImg").html(imgTxtStr);

            //投票名字
            $(".voteImged_4g3_redTitle").html("");
            var titleStr="";
            titleStr='郑州到北京高铁提速至时速350公里 两小时能到吗？';
            $(".voteImged_4g3_redTitle").html(titleStr);

            //投票选型
            $(".voteImged_4g3_voteResultAll").html("");
            var imgResultStr='';
            for( var i=0;i<3;i++ ){
                imgResultStr+='<ul class="voteImged_4g3_voteResult">'+
                '<li class="voteImged_4g3_voteNum01">'+
                '<img class="voteImged_4g3_voteListImg" src="../../img/PP/vote/pic.png" alt=""/>'+
                '</li>'+
                '<li class="voteImged_4g3_voteName txtColor">世界杯16强世界杯16强世界杯16强世界杯16强世界杯16强世界杯16强</li>'+
                '<li class="voteImged_4g3_voteMeter"><span></span></li>'+
                '<li class="percent titleColor">100%</li>'+
                '</ul>';
            }
            $(".voteImged_4g3_voteResultAll").html(imgResultStr);
        }
        function tData() {
            $.ajax({
                async: false,
                cache: true,
                type: 'post',
                dataType: "jsonp",
                data: {dataType: "jsonp", channelId: lhbb_id, limit: lhbb_num, Callback: Callback},  //参数
                url: "http://192.168.31.156:8080/cmsNews/template_editor/channel_article_list_index.do",//请求的action路径
                success: function (data) { //请求成功后处理函数。
                }
            });
        }
        function tDataCallback(data) {
            var list = data.dataList;
            for (var i = 0; i < list.length; i++) {
                var str = '<p><a href="#"/>' + list[i].title + '<a><p/>';
                $(".lh.showId").append(str);
            }
        }

        //颜色+长度
        //    var colorList = ["#FFFF99","#B5FF91","#94DBFF","#FFBAFF","#FFBD9D","#C7A3ED","#CC9898","#8AC007","#CCC007","#FFAD5C"],
        var colorList = ["#fbbc05","#34a826","#4285f4","#cc3333"],
                spans=$('.voteImged_4g3_voteMeter>span'),
                percent=$('.percent');
        for( var i=0;i<spans.length;i++ ){
            spans[i].style.backgroundColor=getColorByRandom(colorList);
            spans[i].style.width=parseFloat($('.voteImged_4g3_voteMeter').css('width'))/100*parseFloat(percent[i].innerHTML)+'px';
        }
        function getColorByRandom(colorList){
            var colorIndex = Math.floor(Math.random()*colorList.length);
            var color = colorList[colorIndex];
            colorList.splice(colorIndex,1);
            return color;
        }


    </script>
</div>
</div>
