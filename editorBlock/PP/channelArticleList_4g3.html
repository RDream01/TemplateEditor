<div class="col-md-9 col-sm-9 appendStr channelArticleList_4g3" id="channelArticleList_4g3" data-blockSize="9">

<div class="style" "exist">
    <style>
        .channelArticleList_4g3_style{
            width: 66px;
            height: 27px;
            background: #cccccc;
            display: inline-block;
            color: #ffffff;
            font-size: 12px;
            line-height: 27px;
            margin: 0 -3px 0 0;
            padding: 0;
            cursor: pointer;
        }
        .channelArticleList_4g3_styleSelected{
            background: #cc3333;
        }
        .channelArticleList_4g3_style img{
            margin:0 3px 0 8px;
            width: 15px;
            height: 15px;
        }
        .channelArticleList_4g3_style span{
            padding-top:4px;
        }

        .channelArticleList_4g3_top{
            margin-bottom: 4px
        }
        .channelArticleList_4g3_list_li{
            margin-top:12px;
            height: 170px;
            background: #ffffff;
            box-shadow:0 2px 2px 0 rgba(0,0,0,0.24);
        }
        .channelArticleList_4g3_list_img{

        }
        .channelArticleList_4g3_list_videoPlay{
            margin-right: 4px;
        }
        .channelArticleList_4g3_list_second{
            display: inline-block;
            width: 462px;
        }
        .channelArticleList_4g3_list_title{
            margin-top: 16px;
            height: 42px;
            font-size: 16px;
            line-height: 21px;
            width: 428px;
            margin-left: 16px;
            font-family: MicrosoftYaHei;
        }
        .channelArticleList_4g3_list_content{
            height: 42px;
            width: 428px;
            line-height: 21px;
            font-size: 14px;
            margin-top: 8px;
            margin-left: 16px;

        }
        .channelArticleList_4g3_list_bottom{
            font-size: 12px;
            margin-left: 16px;
            margin-top: 24px;
            width: 428px;
            color: #cccccc;
        }
        .channelArticleList_4g3_list_source{
            margin-right:4px;
        }
        .channelArticleList_4g3_list_count{

        }
        .channelArticleList_4g3_list_count img{
            margin-left: 4px;
            width: 12px;
            height: 10px;
            margin-bottom: 4px;
            margin-right: 4px;
        }
        .channelArticleList_4g3_list_videoBottom{
            position: relative;
            top: -20px;
            left: 8px;
            color: #ffffff;
            font-size: 12px;
            line-height: 16px;
            width: 222px;
        }
        .channelArticleList_4g3_list_videoTime{

        }
        .channelArticleList_4g3_list_videoCount{
            float: right;
            margin-right: 8px;
        }
        .channelArticleList_4g3_list_first{
            width: 230px;
            height: 138px;
            margin: 16px 0px 16px 16px;
            float: left;
        }
        .channelArticleList_4g3_list_topicTag{
            color: #ffffff;
            position: relative;
            bottom: 130px;
            left: -20px;
        }
        .channelArticleList_4g3_list_topicTag span{
            position: relative;
            left: -37px;
            bottom: 4px;
            font-size: 12px;
        }
        .channelArticleList_4g3_list_ul{
            display: block;
        }
        /*卡片*/
        .channelArticleList_4g3_card_ul{
            position:relative;
            width: 708px;
            display: none;
        }


        .channelArticleList_4g3_card_ul:after{
            content:'';
            display:block;
            clear:both;
        }
        .channelArticleList_4g3_card_li{
            width: 228px;
            /*height: 332px;*/
            background: #ffffff;
            margin-top: 12px;
            float:left;
            box-shadow:0 2px 2px 0 rgba(0,0,0,0.24);
            position:absolute;
        }
        .channelArticleList_4g3_card_first{
            width: 228px;
            height: 144px;
        }
        .channelArticleList_4g3_card_second{

        }
        .channelArticleList_4g3_card_img{
            width: 198px;
            height: 124px;
            margin: 15px 15px 0px 15px;
        }
        .channelArticleList_4g3_card_title{
            width: 196px;
            height: 42px;
            line-height: 21px;
            font-size: 16px;
            margin-left: 15px;
            margin-top: 3px;
        }
        .channelArticleList_4g3_card_content{
            width: 196px;
            max-height: 105px;
            font-size: 14px;
            line-height: 21px;
            margin: 5px 15px;
        }
        .channelArticleList_4g3_card_bottom{
            margin: 10px 15px 20px 15px;
            font-size: 12px;
            line-height: 12px;
            color: #cccccc;
            height: 12px;
            width: 195px;
        }
        .channelArticleList_4g3_card_bottom img{
            width: 12px;
            height: 10px;
            margin-left: 4px;
            margin-right: 4px;
            margin-bottom: 1px;
        }
        .channelArticleList_4g3_card_source{
            margin-right: 4px;

        }
        .channelArticleList_4g3_card_videoBottom{
            position: relative;
            top: -22px;
            left: 24px;
            color: #ffffff;
            font-size: 12px;
            line-height: 16px;
            width: 228px;
        }
        .channelArticleList_4g3_card_videoCount{
            position: absolute;
            right: 53px;
        }

        .channelArticleList_4g3_card_videoPlay{
            margin-right: 4px;
        }

        .channelArticleList_4g3_card_topicTag{
            color: #ffffff;
            position: relative;
            bottom: 118px;
            left: -4px;
        }

        .channelArticleList_4g3_card_topicTag img{
            width:36px;
        }
        .channelArticleList_4g3_card_topicTag span{
            position: relative;
            left: -35px;
            bottom: 2px;
            font-size: 12px;
        }
    </style>
</div>

<div class="panel">
    <div class="panel-heading">
        <!--<span class="title">文章栏目列表</span>-->
    </div>
    <div class="panel-body">
        <div class="Grid4g3 pageBackGroundColor channelArticleList_4g3" "exist">
            <input type="hidden" class="v_channelArticleList_4g3_commentNum" value="yes">
            <div class="channelArticleList_4g3_top">
                <p class="channelArticleList_4g3_style channelArticleList_4g3_styleSelected styleList" onclick="selectStyle('styleList')" >
                    <img src="../../img/PP/channelArticleList/list.png"/><span>列表</span>
                </p>
                <p class="channelArticleList_4g3_style styleCard" onclick="selectStyle('styleCard')">
                    <img src="../../img/PP/channelArticleList/card.png"/><span>卡片</span>
                </p>
            </div>
            <ul class="channelArticleList_4g3_list_ul pageBackGroundColor showId">
            </ul>
        </div>
    </div>
</div>
<div class="resize-handle"><i class="icon icon-resize-h"></i></div>

<div class="script" "exist">
    <script>
        var pageStyle="list";

        function maxLength(){
            forHtml(".channelArticleList_4g3_list_title")
            forHtml(".channelArticleList_4g3_list_content")
            forHtml(".channelArticleList_4g3_card_title")
            forHtml(".channelArticleList_4g3_card_content")
            max(".channelArticleList_4g3_list_title", 50);
            max(".channelArticleList_4g3_list_content", 56);
            max(".channelArticleList_4g3_card_title", 20);
            max(".channelArticleList_4g3_card_content", 65);
        }

        function forHtml(yuan){
            for(var i =0; i<$(yuan).length;i++){
                var pp =  $(yuan);
                $(pp[i]).html($(pp[i]).attr("data-value"));
            }
        }
        function calculateLocation(){
            var pp = $(".channelArticleList_4g3_card_li");
            for(var i=0;i<$(".channelArticleList_4g3_card_li").length;i++){
                if((i%3) == 0){
                    $(pp[i]).css("left","0px");
                }
                if((i%3) == 1){
                    var pp = $(".channelArticleList_4g3_card_li");
                    $(pp[i]).css("left","240px");
                }
                if((i%3) == 2){
                    var pp = $(".channelArticleList_4g3_card_li");
                    $(pp[i]).css("left","480px");
                }
                if(i<3){
                    $(pp[i]).css("top","0px");
                }else{
                    var height = $(pp[i-3]).css("height");
                    var preTop = $(pp[i-3]).css("top");
                    var hh = height.split("px");
                    var pt = preTop.split("px");
                    $(pp[i]).css("top",(parseInt(hh[0])+parseInt(pt[0])+12)+"px");
                }
            }
            calculateUlHeight();
        }

        function calculateUlHeight(){
            var pp = $(".channelArticleList_4g3_card_li");
            var h = $(".channelArticleList_4g3_card_li").length;
            var h1 = $(pp[h-1]).css("bottom");
            var h2 = $(pp[h-2]).css("bottom");
            var h3 = $(pp[h-3]).css("bottom");
            if(h<3) {
                h3 = "0px";
            }
            if(h<2){
                h2 = "0px";
            }
            if(h<1){
                h1 = "0px";
            }
            h1 = Math.abs(h1.substring(0,h1.length-2));
            h2 = Math.abs(h2.substring(0,h2.length-2));
            h3 = Math.abs(h3.substring(0,h3.length-2));
            $(".channelArticleList_4g3_card_ul").css("height",(getMax(h1,h2,h3)-16)+"px");
        }
        function selectStyle(style){
            $(".channelArticleList_4g3_top").find(".channelArticleList_4g3_styleSelected").removeClass("channelArticleList_4g3_styleSelected");
            $("."+style).addClass("channelArticleList_4g3_styleSelected");
            var html = $(".channelArticleList_4g3").html();
            if(style == "styleCard"){
                pageStyle = "card";
                html = html.replace(/channelArticleList_4g3_list/g,"channelArticleList_4g3_card");
                $(".channelArticleList_4g3").html('');
                $(".channelArticleList_4g3").html(html);
                $(".channelArticleList_4g3_card_ul").css("display","block");
                calculateLocation();
            }else{
                pageStyle = "list";
                html = html.replace(/channelArticleList_4g3_card/g,"channelArticleList_4g3_list");
                $(".channelArticleList_4g3").html('');
                $(".channelArticleList_4g3").html(html);
                $(".channelArticleList_4g3_list_ul").css("display","block");
                $(".channelArticleList_4g3_list_ul").css("height","auto");
            }
            maxLength();
        }

        function getMax(a,b,c)
        {
            return a>b?(a>c?a:c):(b>c?b:c);
        }
        var flag="v";
        if(flag == "v"){
            vData()
        }else{
            tData();
        }
    //    maxLength();
        function vData(){
            var commentNum = $(".v_channelArticleList_4g3_commentNum").val();
            var num = 21;
           $(".channelArticleList_4g3_"+pageStyle+"_ul").html("");
            for(var i=0;i<num;i++){
                var str="";
                str += '&lt;li class="channelArticleList_4g3_'+pageStyle+'_li"&gt;';
                str += '&lt;div class="channelArticleList_4g3_'+pageStyle+'_first"&gt;';
                str += '&lt;a&gt;&lt;img  class="channelArticleList_4g3_'+pageStyle+'_img" src="../../img/PP/channelArticleList/pic.png"&gt;';
                str += '&lt;p class="channelArticleList_4g3_'+pageStyle+'_videoBottom"&gt;';
                str += '&lt;span class="channelArticleList_4g3_'+pageStyle+'_videoTime"&gt;10:30&lt;/span&gt;';
                str += '&lt;span class="channelArticleList_4g3_'+pageStyle+'_videoCount"&gt;';
                str += '&lt;img class="channelArticleList_4g3_'+pageStyle+'_videoPlay" src="../../img/PP/channelArticleList/video_play.png"/&gt;';
                str += ' 3&lt;/span&gt;&lt;/p&gt;&lt;/a&gt;&lt;/div&gt;';
                str += '&lt;div class="channelArticleList_4g3_'+pageStyle+'_second"&gt;';
                str += '&lt;a&gt;&lt;p class="channelArticleList_4g3_'+pageStyle+'_title"  data-value="哈利路亚哈利虎牙哈哈哈哈哈哈或少时诵诗书事实上"&gt;&lt;/p&gt;&lt;/a&gt;';
                str += '&lt;p class="channelArticleList_4g3_'+pageStyle+'_content abstractColor" data-value="习近平强很海湖庄不久前在海湖。"&gt;&lt;/p&gt;';
                str += '&lt;p class="channelArticleList_4g3_'+pageStyle+'_bottom"&gt;&lt;span class="channelArticleList_4g3_'+pageStyle+'_source"&gt;擎好网&lt;/span&gt;';
                if(commentNum == "yes"){
                    str += '&lt;span&gt;|&lt;/span&gt;&lt;span class="channelArticleList_4g3_'+pageStyle+'_count"&gt;';
                    str += '&lt;img src="../../img/PP/channelArticleList/comment.png"/&gt;20&lt;/span&gt;';
                }
                str += '&lt;span class="rt"&gt;2017-4-23&lt;/span&gt;&lt;/p&gt;&lt;/div&gt;';
                str += '&lt;/div&gt;&lt;/li&gt;';
                $(".channelArticleList_4g3_"+pageStyle+"_ul").append(str);
            }

            maxLength();
            try{
                calculateLocation();
                calculateUlHeight();
            }catch (e){
            };
        }
        function tData(){
            var templateId_replace="";
            var channelArticleList_4g3_channelId_SS="";
            var cb = "tDataCallback";
            var num = 21;
            $.ajax({
                async: false,
                cache: true,
                type: 'post',
                dataType: "jsonp",
                data: {channelId: channelArticleList_4g3_channelId_SS, limit: num, callBack: cb},  //参数
                url: blockBasePath + "/blockData/channelArticleList",//请求的action路径
                success: function (data) { //请求成功后处理函数。
                }
            });
        }

        function tDataCallback(data){

            var templateId_replace="";
            var channelArticleList_4g3_channelId_SS="";
            var channelArticleList_4g3_commentNum="";
            if(channelArticleList_4g3_commentNum==""){
                channelArticleList_4g3_commentNum="yes";
            }
            $(".channelArticleList_4g3_"+pageStyle+"_ul.showId").html("");
            var aticleList = data.articleList;
            if(articleList == '' || articleList == undefined){
                return;
            }
            for(var i=0;i<aticleList.length;i++){
                var str="";
                str += '&lt;li class="channelArticleList_4g3_'+pageStyle+'_li"&gt;';
                str += '&lt;div class="channelArticleList_4g3_'+pageStyle+'_first"&gt;';
                str += '&lt;a onclick="goContentDetial(\''+articlelist[i].staticUrl+'\',\''+channelArticleList_4g3_channelId_SS+'\')" &gt;&lt;img  class="channelArticleList_4g3_'+pageStyle+'_img" src="'+articleList[i].pic+'"&gt;';
                str += '&lt;p class="channelArticleList_4g3_'+pageStyle+'_videoBottom"&gt;';
                str += '&lt;span class="channelArticleList_4g3_'+pageStyle+'_videoTime"&gt;articleList[i].videoTime&lt;/span&gt;';
                str += '&lt;span class="channelArticleList_4g3_'+pageStyle+'_videoCount"&gt;';
                str += '&lt;img class="channelArticleList_4g3_'+pageStyle+'_videoPlay" src="../../img/PP/channelArticleList/video_play.png"/&gt;';
                str += ' 3&lt;/span&gt;&lt;/p&gt;&lt;/a&gt;&lt;/div&gt;';
                str += '&lt;div class="channelArticleList_4g3_'+pageStyle+'_second"&gt;';
                str += '&lt;a onclick="goContentDetial(\''+articlelist[i].staticUrl+'\',\''+channelArticleList_4g3_channelId_SS+'\')" &gt;&lt;p class="channelArticleList_4g3_'+pageStyle+'_title"  data-value="'+articlelist[i].title+'"&gt;&lt;/p&gt;&lt;/a&gt;';
                str += '&lt;p class="channelArticleList_4g3_'+pageStyle+'_content abstractColor" data-value="'+articlelist[i].shortContent+'"&gt;&lt;/p&gt;';
                str += '&lt;p class="channelArticleList_4g3_'+pageStyle+'_bottom"&gt;&lt;span class="channelArticleList_4g3_'+pageStyle+'_source"&gt;'+articlelist[i].resourceTitle+'&lt;/span&gt;';
                if(channelArticleList_4g3_commentNum == "yes"){
                    str += '&lt;span&gt;|&lt;/span&gt;&lt;span class="channelArticleList_4g3_'+pageStyle+'_count"&gt;';
                    str += '&lt;img src="../../img/PP/channelArticleList/comment.png"/&gt;'+articleList[i].commentNum+'&lt;/span&gt;';
                }
                str += '&lt;span class="rt"&gt;'+articleList[i].articleTime+'&lt;/span&gt;&lt;/p&gt;&lt;/div&gt;';
                str += '&lt;/div&gt;&lt;/li&gt;';
                $(".channelArticleList_4g3_"+pageStyle+"_ul.showId").append(str);
            }
            maxLength();
            try{
                calculateLocation();
                calculateUlHeight();
            }catch (e){
            };

        }
    </script>
</div>

</div>